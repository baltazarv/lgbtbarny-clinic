{"version":3,"sources":["containers/InquirerForm/InquirerForm.module.css","assets/images/logo.webp","airtableBase.js","data/peopleFields.js","data/consultionFields.js","store/actions/people.js","store/actions/actionTypes.js","store/actions/lawtypes.js","store/actions/consultations.js","containers/InquirerForm/index.js","App.js","store/reducers/people.js","store/reducers/consultations.js","store/reducers/lawtypes.js","store/index.js","serviceWorker.js","index.js"],"names":["module","exports","Airtable","require","configure","endpointUrl","apiKey","process","base","INCOME","LAWYERS","INQUIRERS","SITUATION","DISPOSITIONS","REF_SUMMARY","LAW_TYPES","initLawyers","lawyers","type","initInquirers","inquirers","setCurrentInquirers","currentInquirers","initLawTypes","lawTypes","consultationCreated","newConsultion","DISP_NO_FURTHER","DISP_FEE_BASED","DISP_PRO_BONO","DISP_IMPACT","SUBMIT_FIELDS_DEFAULT","Date","toISOString","substr","ConsultationsPreviousModal","props","Modal","size","aria-labelledby","centered","Header","closeButton","Title","id","title","Body","heading","body","Footer","Button","onClick","onHide","buttonsecondlabel","buttoncloselabel","InquirerForm","showConsultModal","setState","hideConsultModal","formatName","inquirer","firstName","middleName","otherNames","lastName","handleLawyerSelectChange","opt","reduce","acc","curr","push","value","prevState","submitFields","consultFields","handleInquirerSelectChange","options","length","forEach","inquirerChoice","find","inq","initCurrentInquirers","handleInputChange","evt","target","checked","name","state","dispoRadioOnChange","currentTarget","isReferralDispositionChecked","handleTypeOfLawSelectChange","handleSubmit","preventDefault","stopPropagation","checkValidity","createConsultation","validated","clearForm","inquirerForm","current","reset","formDispositionNoFurther","formDispositionFeeBased","formDispositionProBono","formDispositionImpact","situation","dispositions","refSummary","submitButtonLabel","React","createRef","isInquirerInfoOpen","this","getLawyers","getInquirers","getLawTypes","prevProps","consultSubmitStatus","status","consultationInProgress","console","log","inqSelectOptions","inqObj","label","lawyerSelectOptions","lawTypeOptions","currentInquirerInfo","map","key","Card","ListGroup","className","Item","variant","pronouns","peopleFields","income","intakeNotes","repeatVisit","consultationsExp","consult","Container","styles","cardContainer","Form","noValidate","onSubmit","ref","Group","as","Row","controlId","Label","column","sm","Col","Text","isMulti","required","onChange","Control","Feedback","Collapse","in","rows","Check","show","Component","connect","people","consultations","dispatch","airtableBase","select","fields","view","eachPage","records","fetchNextPage","record","get","err","error","inqs","every","filterByFormula","toString","rec","date","summary","inqsWithConsult","inqWithConsult","inqConsultId","actions","create","App","Navbar","bg","Brand","href","alt","src","logo","width","height","Nav","Link","path","component","to","initialState","reducer","action","payload","rootReducer","combineReducers","peopleReducer","consultReducer","lawTypeReducer","store","createStore","applyMiddleware","thunk","Boolean","window","location","hostname","match","app","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f99032d5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardContainer\":\"InquirerForm_cardContainer__3A_X-\"};","module.exports = __webpack_public_path__ + \"static/media/logo.27bb8508.webp\";","var Airtable = require('airtable');\n\nAirtable.configure({\n\t\tendpointUrl: 'https://api.airtable.com',\n\t\tapiKey: process.env.REACT_APP_AIRTABLE_API_KEY\n});\nvar base = Airtable.base(process.env.REACT_APP_AIRTABLE_BASE);\n\nexport default base;\n","export const FIRST_NAME = 'First Name';\nexport const MIDDLE_NAME = 'Middle Name';\nexport const LAST_NAME = 'Last Name';\nexport const OTHER_NAMES = 'Other Names';\nexport const PRONOUNS = 'Gender Pronouns';\nexport const INCOME = 'Annual Household Income';\nexport const INTAKE_NOTES = 'Intake Notes';\nexport const REPEAT_VISIT = 'Repeat Visit?';\nexport const CONSULTATIONS = 'Consultations';\n","export const NAME = 'Name';\nexport const DATE = 'Date';\nexport const TYPE = 'Type';\nexport const STATUS = 'Status';\n\nexport const LAWYERS = 'Lawyer'; // array\nexport const INQUIRERS = 'Inquirer'; // array\nexport const SITUATION = 'Inquirer\\'s Situation';\nexport const DISPOSITIONS = 'Disposition'; // array\nexport const REF_SUMMARY = 'Referral Summary';\nexport const LAW_TYPES = 'Type Of Law'; // array\n","import * as actionTypes from './actionTypes';\nimport airtableBase from '../../airtableBase';\n\nimport * as peopleFields from '../../data/peopleFields';\nimport * as consultFields from '../../data/consultionFields';\nconst PEOPLE_TABLE = 'People';\nconst INQUIRERS_VIEW = 'Inquirers';\nconst LAWYERS_VIEW = 'Lawyers';\nconst CONSULT_TABLE = 'Consultations';\n\n// async action creators\n\nexport const getLawyers = () => {\n\treturn dispatch => {\n\t\tlet lawyers =[];\n\t\tairtableBase(PEOPLE_TABLE).select({\n\t\t\tfields: [\n\t\t\t\tpeopleFields.FIRST_NAME,\n\t\t\t\tpeopleFields.MIDDLE_NAME,\n\t\t\t\tpeopleFields.LAST_NAME,\n\t\t\t\tpeopleFields.OTHER_NAMES,\n\t\t\t],\n\t\t\tview: LAWYERS_VIEW\n\t\t\t// filterByFormula: 'Type = \"Lawyer\"'\n\t\t}).eachPage(function page(records, fetchNextPage) {\n\t\t\trecords.forEach(record => {\n\t\t\t\tlawyers.push({\n\t\t\t\t\tid: record.id,\n\t\t\t\t\tfirstName: record.get(peopleFields.FIRST_NAME),\n\t\t\t\t\tmiddleName: record.get(peopleFields.MIDDLE_NAME),\n\t\t\t\t\tlastName: record.get(peopleFields.LAST_NAME),\n\t\t\t\t\totherNames: record.get(peopleFields.OTHER_NAMES),\n\t\t\t\t});\n\t\t\t});\n\t\t\tfetchNextPage(); // next 100\n\t\t}, function done(err, records) {\n\t\t\tif (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t\t// dispatch(fetchLawyersFailed())\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdispatch(initLawyers(lawyers))\n\t\t});\n\t}\n}\n\nexport const getInquirers = () => {\n\treturn dispatch => {\n\t\tlet inquirers = [];\n\t\tairtableBase(PEOPLE_TABLE).select({\n\t\t\tview: INQUIRERS_VIEW,\n\t\t\tfields: [\n\t\t\t\tpeopleFields.FIRST_NAME,\n\t\t\t\tpeopleFields.MIDDLE_NAME,\n\t\t\t\tpeopleFields.LAST_NAME,\n\t\t\t\tpeopleFields.OTHER_NAMES,\n\t\t\t\tpeopleFields.PRONOUNS,\n\t\t\t\tpeopleFields.INCOME,\n\t\t\t\tpeopleFields.INTAKE_NOTES,\n\t\t\t\tpeopleFields.REPEAT_VISIT,\n\t\t\t\tpeopleFields.CONSULTATIONS\n\t\t\t],\n\t\t\t// filterByFormula: 'OR(NOT({First Name} = \"\"), NOT({Last Name} = \"\"))'\n\t\t\t// filterByFormula: 'Type = \"Inquirer\"'\n\t\t}).eachPage(function page(records, fetchNextPage) {\n\t\t\trecords.forEach(function (record) {\n\t\t\t\tinquirers.push({\n\t\t\t\t\tid: record.id,\n\t\t\t\t\tfirstName: record.get(peopleFields.FIRST_NAME),\n\t\t\t\t\tmiddleName: record.get(peopleFields.MIDDLE_NAME),\n\t\t\t\t\tlastName: record.get(peopleFields.LAST_NAME),\n\t\t\t\t\totherNames: record.get(peopleFields.OTHER_NAMES),\n\t\t\t\t\tpronouns: record.get(peopleFields.PRONOUNS),\n\t\t\t\t\tincome: record.get(peopleFields.INCOME),\n\t\t\t\t\tintakeNotes: record.get(peopleFields.INTAKE_NOTES),\n\t\t\t\t\trepeatVisit: record.get(peopleFields.REPEAT_VISIT),\n\t\t\t\t\tconsultations: record.get(peopleFields.CONSULTATIONS)\n\t\t\t\t});\n\t\t\t});\n\t\t\tfetchNextPage(); // next 100\n\t\t}, function done(err, records) {\n\t\t\tif (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t\t// dispatch(fetchInquirersFailed())\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdispatch(initInquirers(inquirers));\n\t\t});\n\t}\n}\n\n// check for expanded consultation info on inquirers\n//\tadds property if missing\nexport const initCurrentInquirers = inqs => {\n\treturn dispatch => {\n\t\t// if expanded consultation info already added to all inquirers, init inquirers\n\t\tconst hasConsultations = inqs.every(inq => {\n\t\t\treturn (inq.consultations && inq.consultationsExp);\n\t\t})\n\t\tif (hasConsultations) {\n\t\t\tdispatch(setCurrentInquirers(inqs));\n\t\t\treturn;\n\t\t}\n\t\t// else get consultation rec id\n\t\tconst consultIds = inqs.reduce((acc, curr) => {\n\t\t\tif (curr.consultations && !curr.consultationsExp) {\n\t\t\t\treturn [...acc, ...curr.consultations]\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, []);\n\t\t/* filterByFormula\n\t\tOR(\n\t\t\tRECORD_ID() = 'recwQW5JVQFCZAZt8',\n\t\t\tRECORD_ID() = 'recj49jLIShvTEg6f',\n\t\t\tRECORD_ID() = 'recR09DMEKd1YPfyH'\n\t\t) */\n\t\tlet filterByFormula = 'OR(';\n\t\tfilterByFormula += consultIds.map(id => {\n\t\t\treturn `RECORD_ID() = '${id}'`\n\t\t}).toString();\n\t\tfilterByFormula += ')';\n\n\t\t// get consultations from airtable & match to inquirer objects\n\t\tconst consultations = [];\n\t\tairtableBase(CONSULT_TABLE).select({\n\t\t\tfilterByFormula: filterByFormula,\n\t\t\tfields: [\n\t\t\t\tconsultFields.NAME,\n\t\t\t\tconsultFields.DATE,\n\t\t\t\tconsultFields.LAWYERS,\n\t\t\t\tconsultFields.INQUIRERS,\n\t\t\t\tconsultFields.SITUATION,\n\t\t\t\tconsultFields.DISPOSITIONS,\n\t\t\t\tconsultFields.REF_SUMMARY,\n\t\t\t\tconsultFields.LAW_TYPES,\n\t\t\t\tconsultFields.STATUS\n\t\t\t]\n\t\t}).eachPage(function page(records, fetchNextPage) {\n\t\t\trecords.forEach(rec => {\n\t\t\t\tconsultations.push({\n\t\t\t\t\tid: rec.id,\n\t\t\t\t\tname: rec.get(consultFields.NAME),\n\t\t\t\t\tdate: rec.get(consultFields.DATE),\n\t\t\t\t\tlawyers: rec.get(consultFields.LAWYERS),\n\t\t\t\t\tinquirers: rec.get(consultFields.INQUIRERS),\n\t\t\t\t\tsituation: rec.get(consultFields.SITUATION),\n\t\t\t\t\tdispositions: rec.get(consultFields.DISPOSITIONS),\n\t\t\t\t\tsummary: rec.get(consultFields.REF_SUMMARY),\n\t\t\t\t\tlawTypes: rec.get(consultFields.LAW_TYPES),\n\t\t\t\t\tstatus: rec.get(consultFields.STATUS),\n\t\t\t\t});\n\t\t\t})\n\t\t\tfetchNextPage();\n\t\t}, function done(err) {\n\t\t\tif(err) {\n\t\t\t\tconsole.log('Airtable Error: ', err);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for each inquirer add expanded consultation property\n\t\t\t// console.log('inqs', inqs)\n\t\t\tconst inqsWithConsult = inqs.map(inq => {\n\t\t\t\tlet inqWithConsult = null;\n\t\t\t\tif (inq.consultations && !inq.consultationsExp) {\n\t\t\t\t\tinqWithConsult = inq.consultations.map(inqConsultId => {\n\t\t\t\t\t\treturn consultations.find(consult => {\n\t\t\t\t\t\t\treturn inqConsultId === consult.id;\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tinq.consultationsExp = inqWithConsult;\n\t\t\t\treturn inq;\n\t\t\t});\n\t\t\t// console.log('inqsWithConsult', inqsWithConsult);\n\t\t\tdispatch(setCurrentInquirers(inqsWithConsult));\n\t\t})\n\t}\n}\n\n// sync action creators\n\nexport const initLawyers = lawyers => {\n\treturn {\n\t\ttype: actionTypes.INIT_LAWYERS,\n\t\tlawyers\n\t}\n}\n\nexport const initInquirers = inquirers => {\n\t// console.log('initInquirers', inquirers.length)\n\treturn {\n\t\ttype: actionTypes.INIT_INQUIRERS,\n\t\tinquirers\n\t}\n}\n\nexport const setCurrentInquirers = currentInquirers => {\n\treturn {\n\t\ttype: actionTypes.SET_CURRENT_INQUIRERS,\n\t\tcurrentInquirers\n\t}\n}\n","export const INIT_LAWYERS = 'INIT_LAWYERS';\nexport const INIT_INQUIRERS = 'INIT_INQUIRERS';\nexport const INIT_CONSULTATIONS = 'INIT_CONSULTATIONS';\n// must find current inquirers' consultation info first\nexport const SET_CURRENT_INQUIRERS = 'SET_CURRENT_INQUIRERS';\nexport const INIT_LAW_TYPES = 'INIT_LAW_TYPES';\nexport const CONSULTATION_CREATED = 'CONSULTATION_CREATED';\nexport const CONSULTATION_IN_PROGRESS = 'CONSULTATION_IN_PROGRESS';\n","import * as actionTypes from './actionTypes';\nimport airtableBase from '../../airtableBase';\n\nconst LAW_TYPES_TABLE = 'Type Of Law';\nconst LAW_TYPES_RECORD = 'Name';\n\n// async action creators\n\nexport const getLawTypes = () => {\n\treturn dispatch => {\n\t\tlet lawTypes = [];\n\t\tairtableBase(LAW_TYPES_TABLE).select().eachPage(function page(records, fetchNextPage) {\n\t\t\trecords.forEach(function (record) {\n\t\t\t\t// console.log('Retrieved', record.get('Name'));\n\t\t\t\tlawTypes.push({\n\t\t\t\t\tid: record.id,\n\t\t\t\t\ttype: record.get(LAW_TYPES_RECORD)\n\t\t\t\t})\n\t\t\t});\n\t\t\tfetchNextPage();\n\t\t}, function done(err) {\n\t\t\tif (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t\t// dispatch(fetchInquirersFailed())\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdispatch(initLawTypes(lawTypes));\n\t\t});\n\t}\n}\n\n// sync action creators\n\nexport const initLawTypes = lawTypes => {\n\treturn {\n\t\ttype: actionTypes.INIT_LAW_TYPES,\n\t\tlawTypes\n\t}\n}\n","import * as actionTypes from './actionTypes';\nimport airtableBase from '../../airtableBase';\n\n// import * as fieldNames from '../../data/consultionFields';\nconst TABLE = 'Consultations';\n\n// async action creators\n\nexport const createConsultation = submitFields => {\n\treturn dispatch => {\n\t\tairtableBase(TABLE).create([\n\t\t\t{ fields: submitFields }\n\t\t], function(err, records) {\n\t\t\tif (err) {\n\t\t\t\tconsole.log('Airtable Error: ', err);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdispatch(consultationCreated(records[0]));\n\t\t})\n\t}\n}\n\n// sync action creators\n\nexport const consultationCreated = newConsultion => {\n\treturn {\n\t\ttype: actionTypes.CONSULTATION_CREATED,\n\t\tnewConsultion\n\t}\n}\n\nexport const consultationInProgress = () => {\n\treturn {\n\t\ttype: actionTypes.CONSULTATION_IN_PROGRESS,\n\t}\n}\n\n// maybe use for later // is there a need to get all consultations?\nexport const initConsultations = consultations => {\n\treturn {\n\t\ttype: actionTypes.INIT_CONSULTATIONS,\n\t\tconsultations\n\t}\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/index';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Collapse from 'react-bootstrap/Collapse';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Modal from 'react-bootstrap/Modal';\n// https://alligator.io/react/react-select/\nimport Select from 'react-select';\n// import InputGroup from 'react-bootstrap/InputGroup'\n// import DropdownButton from 'react-bootstrap/DropdownButton'\n// import Dropdown from 'react-bootstrap/Dropdown'\nimport styles from './InquirerForm.module.css';\n\nimport * as peopleFields from '../../data/peopleFields';\nimport * as consultFields from '../../data/consultionFields';\n\nconst DISP_NO_FURTHER = 'No further action required or available. Info/counsel provided.';\nconst DISP_FEE_BASED = 'Fee-based - Lawyer Referral Network (LRN) - limited availability';\nconst DISP_PRO_BONO = 'Pro Bono Panel (PBP) - VERY limited availability!';\nconst DISP_IMPACT = 'Highly compelling/impact litigation';\nconst TYPE_CLINIC = 'Clinic';\nconst SUBMIT_FIELDS_DEFAULT = {\n\t[consultFields.TYPE]: TYPE_CLINIC,\n\t[consultFields.DATE]: new Date().toISOString().substr(0, 10)\n};\n\nconst ConsultationsPreviousModal = props => {\n\treturn (\n\t\t<Modal\n\t\t\t{...props}\n\t\t\tsize={props.size}\n\t\t\taria-labelledby=\"contained-modal-title-vcenter\"\n\t\t\tcentered\n\t\t>\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title id=\"contained-modal-title-vcenter\">\n\t\t\t\t\t{props.title}\n\t\t\t\t</Modal.Title>\n\t\t\t</Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<h4>{props.heading}</h4>\n\t\t\t\t<p>\n\t\t\t\t\t{props.body}\n\t\t\t\t</p>\n\t\t\t</Modal.Body>\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button onClick={props.onHide}>{props.buttonsecondlabel}</Button>\n\t\t\t\t<Button onClick={props.onHide}>{props.buttoncloselabel}</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t);\n}\n\nclass InquirerForm extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.inquirerForm = React.createRef();\n\t\tthis.formDispositionNoFurther = React.createRef();\n\t\tthis.formDispositionFeeBased = React.createRef();\n\t\tthis.formDispositionProBono = React.createRef();\n\t\tthis.formDispositionImpact = React.createRef();\n\t\tthis.state = {\n\t\t\tisInquirerInfoOpen: false,\n\t\t\tformDispositionNoFurther: false,\n\t\t\tisReferralDispositionChecked: false,\n\t\t\tformDispositionProBono: false,\n\t\t\tformDispositionImpact: false,\n\t\t\tshowConsultModal: false,\n\n\t\t\tlawyers: [],\n\t\t\tinquirers: [],\n\t\t\tsituation: '',\n\t\t\t// dispositions: [],\n\t\t\trefSummary: '',\n\t\t\tlawTypes: [],\n\t\t\tsubmitFields: SUBMIT_FIELDS_DEFAULT,\n\t\t\tvalidated: false, // for use later\n\n\t\t\tsubmitButtonLabel: 'Submit',\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.getLawyers();\n\t\tthis.props.getInquirers();\n\t\tthis.props.getLawTypes();\n\t}\n\n\tcomponentDidUpdate(prevProps) {\n\t\tif (this.props.consultSubmitStatus.status === 'success') {\n\t\t\tthis.clearForm();\n\t\t\tthis.props.consultationInProgress();\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps(props, state) {\n\t\tif (props.currentInquirers.length > 0) {\n\t\t\treturn {\n\t\t\t\tisInquirerInfoOpen: true\n\t\t\t}\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tisInquirerInfoOpen: false\n\t\t\t}\n\t\t}\n\t}\n\n\tshowConsultModal = () => {\n\t\tthis.setState({ showConsultModal: true });\n\t}\n\n\thideConsultModal = () => {\n\t\tthis.setState({ showConsultModal: false });\n\t}\n\n\tformatName = inquirer => {\n\t\tconst firstName = inquirer.firstName;\n\t\tconst middleName = inquirer.middleName;\n\t\tconst otherNames = inquirer.otherNames;\n\t\tconst lastName = inquirer.lastName;\n\t\treturn (firstName ? firstName : '') + (middleName ? ' ' + middleName : '') + ' ' + (lastName ? lastName : '') + (otherNames ? ' (' + otherNames + ')' : '')\n\t}\n\n\t// form control event handlers\n\n\thandleLawyerSelectChange = opt => {\n\t\tconst lawyers = opt.reduce((acc, curr) => {\n\t\t\tacc.push(curr.value);\n\t\t\treturn acc;\n\t\t}, []);\n\t\tthis.setState((prevState, props) => {\n\t\t\tlet submitFields = { ...prevState.submitFields };\n\t\t\tsubmitFields[consultFields.LAWYERS] = lawyers;\n\t\t\treturn {\n\t\t\t\tsubmitFields,\n\t\t\t\tlawyers: opt,\n\t\t\t};\n\t\t});\n\t}\n\n\thandleInquirerSelectChange = options => {\n\t\t// add inquirers to submitFields state object\n\t\tconst inquirers = options.reduce((acc, curr) => {\n\t\t\tacc.push(curr.value);\n\t\t\treturn acc;\n\t\t}, []);\n\t\tthis.setState((prevState, props) => {\n\t\t\tlet submitFields = { ...prevState.submitFields };\n\t\t\tsubmitFields[consultFields.INQUIRERS] = inquirers;\n\t\t\treturn {\n\t\t\t\tsubmitFields,\n\t\t\t\tinquirers: options\n\t\t\t};\n\t\t});\n\t\t// get expanded consultations, add info to inquirers, and set currentInquirers state\n\t\tlet currentInquirers = [];\n\t\tif (options.length > 0) {\n\t\t\toptions.forEach(opt => {\n\t\t\t\tconst inquirerChoice = this.props.inquirers.find(inq => {\n\t\t\t\t\treturn inq.id === opt.value;\n\t\t\t\t})\n\t\t\t\tcurrentInquirers = [...currentInquirers, inquirerChoice];\n\t\t\t});\n\t\t}\n\t\tthis.props.initCurrentInquirers(currentInquirers);\n\t}\n\n\t// inquirer situation (notes) & ref summary\" text area\n\thandleInputChange = evt => {\n\t\tconst target = evt.target;\n\t\tconst value = target.type === 'checkbox' ? target.checked : target.value;\n\t\tconst name = target.name;\n\n\t\tlet submitFields = { ...this.state.submitFields };\n\t\tswitch (name) {\n\t\t\tcase 'situation':\n\t\t\t\tsubmitFields[consultFields.SITUATION] = value;\n\t\t\t\tbreak;\n\t\t\tcase 'refSummary':\n\t\t\t\tsubmitFields[consultFields.REF_SUMMARY] = value;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\n\t\tthis.setState((prevState, props) => {\n\t\t\treturn {\n\t\t\t\tsubmitFields,\n\t\t\t\t[name]: value\n\t\t\t};\n\t\t});\n\t}\n\n\tdispoRadioOnChange = evt => {\n\t\tif (evt.currentTarget.id === 'formDispositionFeeBased' || evt.currentTarget.id === 'formDispositionProBono') {\n\t\t\tthis.setState({ isReferralDispositionChecked: true });\n\t\t} else {\n\t\t\tthis.setState({ isReferralDispositionChecked: false });\n\t\t};\n\t\tif (evt.target.checked) {\n\t\t\tconst value = evt.target.value;\n\t\t\t// const id = evt.target.id;\n\t\t\tthis.setState((prevState, props) => {\n\t\t\t\tlet submitFields = { ...prevState.submitFields };\n\t\t\t\tsubmitFields[consultFields.DISPOSITIONS] = [value];\n\t\t\t\treturn {\n\t\t\t\t\tsubmitFields,\n\t\t\t\t};\n\t\t\t});\n\t\t};\n\t}\n\n\thandleTypeOfLawSelectChange = opt => {\n\t\tconst lawTypes = opt.reduce((acc, curr) => {\n\t\t\tacc.push(curr.value);\n\t\t\treturn acc;\n\t\t}, []);\n\t\tthis.setState((prevState, props) => {\n\t\t\tlet submitFields = { ...prevState.submitFields };\n\t\t\tsubmitFields[consultFields.LAW_TYPES] = lawTypes;\n\t\t\treturn {\n\t\t\t\tsubmitFields,\n\t\t\t\tlawTypes: opt,\n\t\t\t};\n\t\t});\n\t}\n\n\thandleSubmit = evt => {\n\t\tevt.preventDefault();\n\t\tevt.stopPropagation();\n\t\tconst form = evt.currentTarget;\n\t\tif (form.checkValidity() === true) {\n\t\t\tthis.props.createConsultation(this.state.submitFields);\n\t\t\t// form.reset();\n\t\t}\n\t\tthis.setState({ validated: true });\n\t}\n\n\tclearForm = () => {\n\t\tthis.inquirerForm.current.reset(); // doesn't reset radio checked values\n\t\tthis.formDispositionNoFurther.current.checked = false;\n\t\tthis.formDispositionFeeBased.current.checked = false;\n\t\tthis.formDispositionProBono.current.checked = false;\n\t\tthis.formDispositionImpact.current.checked = false;\n\t\tthis.setState({\n\t\t\tlawyers: [],\n\t\t\tinquirers: [],\n\t\t\tsituation: '',\n\t\t\tdispositions: [],\n\t\t\trefSummary: '',\n\t\t\tlawTypes: [],\n\t\t\tsubmitFields: SUBMIT_FIELDS_DEFAULT,\n\t\t\tsubmitButtonLabel: 'Submit Another',\n\t\t\tvalidated: false,\n\t\t\tisReferralDispositionChecked: false,\n\t\t});\n\t\tthis.props.setCurrentInquirers([]);\n\t}\n\n\trender() {\n\t\tconsole.log('state', this.state, 'consultSubmitStatus');\n\n\t\t// format inquirers into select options\n\t\tlet inqSelectOptions = this.props.inquirers.reduce((acc, curr) => {\n\t\t\t// { label: \"Alligators\", value: 1 },\n\t\t\tif (curr.firstName || curr.lastName) {\n\t\t\t\tconst inqObj = {\n\t\t\t\t\tvalue: curr.id,\n\t\t\t\t\tlabel: this.formatName(curr),\n\t\t\t\t}\n\t\t\t\treturn [...acc, inqObj]\n\t\t\t} else {\n\t\t\t\treturn acc;\n\t\t\t}\n\t\t}, []);\n\n\t\t// format lawyers into select options: { label: \"Alligators\", value: 1 },\n\t\tlet lawyerSelectOptions = this.props.lawyers.reduce((acc, curr) => {\n\t\t\tif (curr.firstName || curr.lastName) {\n\t\t\t\tconst inqObj = {\n\t\t\t\t\tvalue: curr.id,\n\t\t\t\t\tlabel: this.formatName(curr),\n\t\t\t\t}\n\t\t\t\treturn [...acc, inqObj]\n\t\t\t} else {\n\t\t\t\treturn acc;\n\t\t\t}\n\t\t}, []);\n\n\t\t// format type of law state into select options\n\t\tlet lawTypeOptions = this.props.lawTypes.reduce((acc, curr) => {\n\t\t\treturn [...acc, { value: curr.id, label: curr.type }]\n\t\t}, []);\n\n\t\t// selected inquirer(s)\n\t\tlet currentInquirerInfo = 'Loading...';\n\t\tif (this.props.currentInquirers) {\n\t\t\tcurrentInquirerInfo = (\n\t\t\t\tthis.props.currentInquirers.map(inq => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={inq.id}>\n\t\t\t\t\t\t\t{/* inquirer name */}\n\t\t\t\t\t\t\t<Card.Footer><strong>Information for:</strong> {this.formatName(inq)}</Card.Footer>\n\t\t\t\t\t\t\t{/* inquirer info */}\n\t\t\t\t\t\t\t<ListGroup className=\"mb-3\">\n\t\t\t\t\t\t\t\t{/* gender pronouns */}\n\t\t\t\t\t\t\t\t<ListGroup.Item variant=\"light\"><strong>{peopleFields.PRONOUNS}:</strong> {inq.pronouns ? inq.pronouns[0] : 'no answer'}</ListGroup.Item>\n\t\t\t\t\t\t\t\t{/* income */}\n\t\t\t\t\t\t\t\t<ListGroup.Item variant=\"light\"><strong>{peopleFields.INCOME}:</strong> {inq.income ? inq.income : 'no answer'}</ListGroup.Item>\n\t\t\t\t\t\t\t\t{/* intake notes */}\n\t\t\t\t\t\t\t\t<ListGroup.Item variant=\"light\">\n\t\t\t\t\t\t\t\t\t<dl className=\"row mb-0\">\n\t\t\t\t\t\t\t\t\t\t<dt className=\"col-sm-3\">{peopleFields.INTAKE_NOTES}:</dt>\n\t\t\t\t\t\t\t\t\t\t<dd className=\"col-sm-9 mb-0\">{inq.intakeNotes ? inq.intakeNotes : 'none'}</dd>\n\t\t\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t{/* repeat visit */}\n\t\t\t\t\t\t\t\t{inq.repeatVisit === 'Yes' ? (\n\t\t\t\t\t\t\t\t\t<ListGroup.Item variant=\"light\">\n\t\t\t\t\t\t\t\t\t\t<strong>Repeat Visit(s):</strong> Yes\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{/* consultations */}\n\t\t\t\t\t\t\t\t{inq.consultationsExp ? (\n\t\t\t\t\t\t\t\t\t<ListGroup.Item>\n\t\t\t\t\t\t\t\t\t\t<strong>Previous Consultations:</strong>\n\t\t\t\t\t\t\t\t\t\t<ul className=\"mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t{inq.consultationsExp.map(consult => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn <li key={consult.id}><Button onClick={this.showConsultModal} variant=\"link\" size=\"sm\">{consult.name}</Button></li>\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Container>\n\t\t\t\t\t<Card className={styles.cardContainer}>\n\t\t\t\t\t\t<Card.Header></Card.Header>\n\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t<Form\n\t\t\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\t\t\tvalidated={this.state.validated}\n\t\t\t\t\t\t\t\tonSubmit={this.handleSubmit}\n\t\t\t\t\t\t\t\tref={this.inquirerForm}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<h1 className=\"h1\">Clinic Consultation</h1>\n\t\t\t\t\t\t\t\t<div className=\"mb-3 small\">\n\t\t\t\t\t\t\t\t\tPlease insert the information you collected for each client that you spoke to. Give a summary of the client's issue and indicate whether or not they need a referral.\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"text-danger small\">*Required</p>\n\n\t\t\t\t\t\t\t\t{/* lawyers */}\n\t\t\t\t\t\t\t\t<Form.Group as={Row} controlId=\"inquirerPulldown\">\n\t\t\t\t\t\t\t\t\t<Form.Label column sm={3} className=\"text-md-right\">\n\t\t\t\t\t\t\t\t\t\tLawyer(s)<span className=\"text-danger\">*</span>\n\t\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\tAdd your name.\n\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\toptions={lawyerSelectOptions}\n\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.lawyers}\n\t\t\t\t\t\t\t\t\t\t\tonChange={opt => this.handleLawyerSelectChange(opt)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t\t\tPlease choose a visitor.\n\t\t\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t\t{/* inquirers */}\n\t\t\t\t\t\t\t\t<Form.Group as={Row} controlId=\"inquirerPulldown\">\n\t\t\t\t\t\t\t\t\t<Form.Label column sm={3} className=\"text-md-right\">\n\t\t\t\t\t\t\t\t\t\tVisitor(s)<span className=\"text-danger\">*</span>\n\t\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\tChoose visitor or multiple visitors if relevant.\n\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\toptions={inqSelectOptions}\n\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.inquirers}\n\t\t\t\t\t\t\t\t\t\t\tonChange={opt => this.handleInquirerSelectChange(opt)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t\t\tPlease choose a visitor.\n\t\t\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t<Collapse in={this.state.isInquirerInfoOpen} className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t<div id=\"visitor-info\" className=\"small\">\n\t\t\t\t\t\t\t\t\t\t{currentInquirerInfo}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Collapse>\n\n\t\t\t\t\t\t\t\t{/* inquirer's summary (notes) */}\n\t\t\t\t\t\t\t\t<Form.Group controlId=\"notes\">\n\t\t\t\t\t\t\t\t\t<Form.Label className=\"bold mb-0\">Notes</Form.Label>\n\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted mt-0 mb-1\">\n\t\t\t\t\t\t\t\t\t\tPlease describe the factual situation as well as the legal assessment.\n\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\t\trows=\"5\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.situation}\n\t\t\t\t\t\t\t\t\t\tname=\"situation\"\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t\t{/* disposition */}\n\t\t\t\t\t\t\t\t<fieldset className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t<Form.Group as={Row}>\n\t\t\t\t\t\t\t\t\t\t<Form.Label as=\"legend\" column sm={3} className=\"bold text-md-right\">\n\t\t\t\t\t\t\t\t\t\t\tDisposition<span className=\"text-danger\">*</span>\n\t\t\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t\t\t<Col sm={9}>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={DISP_NO_FURTHER}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={DISP_NO_FURTHER}\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"formDispositionRadios\"\n\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"formDispositionNoFurther\"\n\t\t\t\t\t\t\t\t\t\t\t\tref={this.formDispositionNoFurther}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={evt => this.dispoRadioOnChange(evt)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={DISP_FEE_BASED}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={DISP_FEE_BASED}\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"formDispositionRadios\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"formDispositionFeeBased\"\n\t\t\t\t\t\t\t\t\t\t\t\tref={this.formDispositionFeeBased}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={evt => this.dispoRadioOnChange(evt)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={DISP_PRO_BONO}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={DISP_PRO_BONO}\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"formDispositionRadios\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"formDispositionProBono\"\n\t\t\t\t\t\t\t\t\t\t\t\tref={this.formDispositionProBono}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={evt => this.dispoRadioOnChange(evt)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Check\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={DISP_IMPACT}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={DISP_IMPACT}\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"formDispositionRadios\"\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"formDispositionImpact\"\n\t\t\t\t\t\t\t\t\t\t\t\tref={this.formDispositionImpact}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={evt => this.dispoRadioOnChange(evt)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t\t\t\t<Collapse in={this.state.isReferralDispositionChecked}>\n\t\t\t\t\t\t\t\t\t<div id=\"referrals\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"mb-2\"><em>If LRN or PBP is chosen above, please fill out the following for to allow for this case to be referred.</em></div>\n\n\t\t\t\t\t\t\t\t\t\t{/* type of law */}\n\t\t\t\t\t\t\t\t\t\t<Form.Group as={Row} controlId=\"typeOfLawPulldown\">\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label column sm={4} className=\"bold text-md-right\">\n\t\t\t\t\t\t\t\t\t\t\t\tType Of Law<span className=\"text-danger\">*</span>\n\t\t\t\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t<Col sm={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tChoose any relevant types of law.\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\t\t\toptions={lawTypeOptions}\n\t\t\t\t\t\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.lawTypes}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={opt => this.handleTypeOfLawSelectChange(opt)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control.Feedback type=\"invalid\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tPlease the type of law.\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Control.Feedback>\n\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t\t\t\t{/* ref summary */}\n\t\t\t\t\t\t\t\t\t\t<Form.Group controlId=\"notes\">\n\t\t\t\t\t\t\t\t\t\t\t<Form.Label className=\"bold mb-0\">\n\t\t\t\t\t\t\t\t\t\t\t\tReferral Summary<span className=\"text-danger\">*</span>\n\t\t\t\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Text className=\"text-muted mt-0 mb-1\">\n\t\t\t\t\t\t\t\t\t\t\t\tIf LRN or PBP is chosen above, add a one- or two-sentence referral summary that can be used independently of the Notes above in order to make a referral to our network.<br /><br />\n\t\t\t\t\t\t\t\t\t\t\t\tModel: \"Clinic visitor seeks attorney for representation in landlord-tenant matter.  Person is able to pay to retain a lawyer.\"\n\t\t\t\t\t\t\t\t\t\t\t</Form.Text>\n\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\tas=\"textarea\"\n\t\t\t\t\t\t\t\t\t\t\t\trows=\"3\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.refSummary}\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"refSummary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Collapse>\n\n\t\t\t\t\t\t\t\t{/* submit */}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{this.state.submitButtonLabel}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t</Card>\n\t\t\t\t</Container>\n\t\t\t\t<ConsultationsPreviousModal\n\t\t\t\t\tsize=\"md\"\n\t\t\t\t\tshow={this.state.showConsultModal}\n\t\t\t\t\tonHide={() => this.hideConsultModal()}\n\t\t\t\t\ttitle=\"Previous Consultation\"\n\t\t\t\t\theading=\"Inquirer â€“ Date\"\n\t\t\t\t\tbody=\"Coming soon.\"\n\t\t\t\t\tbuttonsecondlabel=\"Edit &amp; Replace Current\"\n\t\t\t\t\tbuttoncloselabel=\"Close\"\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tlawyers: state.people.lawyers,\n\t\tinquirers: state.people.inquirers,\n\t\tcurrentInquirers: state.people.currentInquirers,\n\t\t// consultation: state.consultations.consultations,\n\t\tlawTypes: state.lawTypes.lawTypes,\n\t\tconsultSubmitStatus: state.consultations.consultSubmitStatus\n\t}\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tgetLawyers: () => dispatch(actions.getLawyers()),\n\t\tgetInquirers: () => dispatch(actions.getInquirers()),\n\t\tinitCurrentInquirers: inqs => dispatch(actions.initCurrentInquirers(inqs)),\n\t\tsetCurrentInquirers: inqs => dispatch(actions.setCurrentInquirers(inqs)), // called when clearing form\n\t\tgetLawTypes: () => dispatch(actions.getLawTypes()),\n\t\tcreateConsultation: consult => dispatch(actions.createConsultation(consult)),\n\t\tconsultationInProgress: () => dispatch(actions.consultationInProgress()),\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InquirerForm);\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport InquirerForm from './containers/InquirerForm/index';\n\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\n\nimport logo from './assets/images/logo.webp';\n\nclass App extends React.Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Navbar bg=\"primary\" variant=\"dark\">\n\t\t\t\t\t<Navbar.Brand href=\"/\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\talt=\"LGBT Bar NY\"\n\t\t\t\t\t\t\tsrc={logo}\n\t\t\t\t\t\t\twidth=\"auto\"\n\t\t\t\t\t\t\theight=\"30\"\n\t\t\t\t\t\t\tclassName=\"d-inline-block align-top\"\n\t\t\t\t\t\t/>{' Clinic Forms'}\n\t\t\t\t\t</Navbar.Brand>\n\t\t\t\t\t<Navbar.Collapse className=\"justify-content-end\">\n\t\t\t\t\t\t<Nav>\n\t\t\t\t\t\t\t<Nav.Link href=\"/intake\">Intake</Nav.Link>\n\t\t\t\t\t\t\t<Nav.Link href=\"/consultation\">Consultation</Nav.Link>\n\t\t\t\t\t\t</Nav>\n\t\t\t\t\t</Navbar.Collapse>\n\t\t\t\t</Navbar>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/consultation\" component={InquirerForm} />\n\t\t\t\t\t<Redirect to=\"/consultation\" />\n\t\t\t\t</Switch>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t}\n}\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n\tinquirers: [],\n\tcurrentInquirers: [],\n\tlawyers: [],\n}\n\nconst reducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.INIT_INQUIRERS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinquirers: action.inquirers\n\t\t\t}\n\t\tcase actionTypes.SET_CURRENT_INQUIRERS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentInquirers: action.currentInquirers\n\t\t\t}\n\t\tcase actionTypes.INIT_LAWYERS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlawyers: action.lawyers\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default reducer;\n","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n\tconsultations: [],\n\tconsultSubmitStatus: {\n\t\tstatus: 'in-progress',\n\t\tpayload: null,\n\t},\n}\n\n// maybe use for later // is there a need to get all consultations?\nconst reducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.CONSULTATION_CREATED:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconsultSubmitStatus: {\n\t\t\t\t\tstatus: 'success',\n\t\t\t\t\tpayload: action.newConsultion,\n\t\t\t\t}\n\t\t\t}\n\t\tcase actionTypes.CONSULTATION_IN_PROGRESS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconsultSubmitStatus: {\n\t\t\t\t\tstatus: 'in-progress',\n\t\t\t\t\tpayload: null\n\t\t\t\t}\n\t\t\t}\n\t\t// not used yet\n\t\tcase actionTypes.INIT_CONSULTATIONS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconsultations: action.consultations\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default reducer;\n","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n\tlawTypes: []\n}\n\nconst reducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.INIT_LAW_TYPES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlawTypes: action.lawTypes\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t}\n}\n\nexport default reducer;\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport peopleReducer from './reducers/people';\nimport consultReducer from './reducers/consultations';\nimport lawTypeReducer from './reducers/lawtypes';\n\nconst rootReducer = combineReducers({\n\tpeople: peopleReducer,\n\tconsultations: consultReducer,\n\tlawTypes: lawTypeReducer,\n})\n\nconst store = createStore(rootReducer, applyMiddleware(thunk))\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport store from './store/index';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './custom.scss';\n\nconst app = (\n\t<Provider store={store}>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</Provider>\n)\n\nReactDOM.render(app, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}